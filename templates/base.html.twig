<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Mi Aplicación Symfony{% endblock %}</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('favicons/favicon-16x16.png') }}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">



    {% block styles %}
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
    /* Fuente y estilo base */
    body {
        font-family: 'Poppins', sans-serif;
        color: #212529;
        background-color: #f8f9fa;
    }

    /* Títulos con sombra ligera */
    h1, h2, h3, h4, h5, h6 {
        font-weight: 600;
        text-shadow: 1px 1px 4px rgba(0,0,0,0.1);
    }

    /* Botones generales */
    .btn {
        font-weight: 500;
        border-radius: 0.5rem;
        transition: all 0.3s;
    }

    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 12px rgba(0,0,0,0.2);
    }

    /* Botón "Mi perfil" blanco con hover verde */
    .btn-profile {
        color: #fff;
        border: 2px solid #fff;
        background-color: transparent;
    }

    .btn-profile:hover {
        background-color: #28a745;
        color: #fff;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        transform: translateY(-2px);
    }

    /* Botón "Cerrar sesión" blanco con hover rojo */
    .btn-logout {
        color: #fff;
        border: 2px solid #fff;
        background-color: transparent;
    }

    .btn-logout:hover {
        background-color: #dc3545;
        color: #fff;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        transform: translateY(-2px);
    }

    /* Cards de contenido */
    .card {
        border-radius: 0.75rem;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        background: linear-gradient(135deg, #ffffff 0%, #f0f0ff 100%);
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 25px rgba(0,0,0,0.12);
    }

    /* Navbar con gradiente */
    .navbar {
        background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
    }

    .navbar-brand, .nav-link {
        font-weight: 600;
        color: #fff !important;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    }

    .navbar-toggler-icon {
        filter: invert(1);
    }

    /* Texto muted */
    .text-muted {
        color: #6c757d !important;
    }

    /* Cards de perfil de usuario */
    .profile-card {
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        color: white;
    }

    .profile-card .btn {
        color: #fff;
        border-color: #fff;
    }

    .profile-card .btn:hover {
        background-color: rgba(255,255,255,0.2);
        color: #fff;
    }

    /* Botones de acciones dentro de cards (editar, eliminar, comentarios) */
    .btn-action {
        border-radius: 0.4rem;
        font-size: 0.85rem;
        transition: all 0.2s;
    }

    .btn-action:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }
    </style>
    {% endblock %}
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark px-4 mb-4">
    <a class="navbar-brand" href="{{ path('home') }}">Inicio</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
        <!-- Enlaces principales -->
        <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="{{ path('posts_index') }}">Posts</a></li>
            <li class="nav-item"><a class="nav-link" href="{{ path('users_index') }}">Usuarios</a></li>
            {% if app.user %}
                <li class="nav-item"><a class="nav-link" href="{{ path('posts_mis') }}">Mis Posts</a></li>
            {% endif %}
        </ul>

        <!-- Botones login/registro o perfil/logout -->
        <ul class="navbar-nav d-flex align-items-center">
            {% if not app.user %}
                <li class="nav-item me-2"><a class="btn btn-outline-light btn-sm" href="{{ path('login') }}">Iniciar sesión</a></li>
                <li class="nav-item"><a class="btn btn-warning btn-sm" href="{{ path('register') }}">Registrarse</a></li>
            {% else %}
                <li class="nav-item me-2 text-white">Hola, <strong>{{ app.user.name }}</strong></li>
                <li class="nav-item me-2">
                    <a href="{{ path('users_show', {id: app.user.id}) }}" class="btn btn-profile btn-sm">Mi perfil</a>
                </li>
                <li class="nav-item">
                    <form method="post" action="{{ path('logout') }}">
                        <button class="btn btn-logout btn-sm" type="submit">Cerrar sesión</button>
                    </form>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>

<main class="container py-4">
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label == 'error' ? 'danger' : label }} text-center">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    {% block body %}{% endblock %}
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% block scripts %}{% endblock %}
</body>
</html>
